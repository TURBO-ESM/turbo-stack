module test_num_pes
  use pfunit
  use MOM_coms_infra
  use MOM_test_case
  implicit none

  @testCase()
  type, extends(MOM_MPI_test_case) :: testcase_num_pes
  end type testcase_num_pes

contains

  @test(npes=[4])
  subroutine test_numPEs(this)
    class (testcase_num_pes), intent(inout) :: this
    integer :: npesTIM
    integer :: npes


    npesTIM = num_PEs()

    npes = this%getNumProcesses()

    @assertEqual(npes, npesTIM)


  end subroutine test_numPEs
   
end module test_num_pes
